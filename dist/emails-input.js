!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.EmailsInput=t():e.EmailsInput=t()}("undefined"!=typeof self?self:this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var u=arguments[t],o=0,s=u.length;o<s;o++,i++)r[i]=u[o];return r};Object.defineProperty(t,"__esModule",{value:!0}),n(2),n(3);var i=n(4);t.default=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(i.default.bind.apply(i.default,r([void 0],e)))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),u=function(){function e(e,t){if(void 0===t&&(t={}),this._opts={placeholderText:"add more people..."},this._elem=null,this._listeners=[],this._values=[],!(e instanceof HTMLElement))throw new Error("EmailsInput() expects a HTMLElement as argument");this._elem=e,this._opts=r(r({},this._opts),t),this.init()}return Object.defineProperty(e.prototype,"_stringValues",{get:function(){return this._values.map((function(e){return e.toString()}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_valuesElem",{get:function(){return this._elem.querySelector(".EmailsInput-values")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_inputElem",{get:function(){return this._elem.querySelector(".EmailsInput-input")},enumerable:!1,configurable:!0}),e.prototype.addValue=function(e){var t=this,n=new i.default(e,(function(){t.removeValue(this)}));this._values.push(n),this._valuesElem.insertBefore(n.render(),this._inputElem),this._notifyListeners()},e.prototype.getAllValues=function(){return this._stringValues},e.prototype.getValidValues=function(){return this._values.filter((function(e){return e.isValid()})).map((function(e){return e.toString()}))},e.prototype.replaceAllValues=function(e){var t=this;this._values.forEach((function(e){return t.removeValue(e)})),e.forEach((function(e){return t.addValue(e)}))},e.prototype.removeValue=function(e){e.elem.parentNode.removeChild(e.elem),this._values=this._values.filter((function(t){return t!==e})),this._notifyListeners()},e.prototype.subscribe=function(e){this._listeners.push(e)},e.prototype.unsubscribe=function(e){this._listeners=this._listeners.filter((function(t){return t!==e}))},e.prototype.init=function(){this._elem.classList.add("EmailsInput"),this._elem.innerHTML='<div class="EmailsInput-values"></div>',this._createInput()},e.prototype.reset=function(){this._values=[],this._listeners=[],this._elem.innerHTML='<div class="EmailsInput-values"></div>'},e.prototype._notifyListeners=function(){var e=this;this._listeners.forEach((function(t){return t.call(e,e._stringValues)}))},e.prototype._createInput=function(){var e=this,t=document.createElement("input");t.type="text",t.placeholder=this._opts.placeholderText,t.classList.add("EmailsInput-input");var n=function(){t.value&&(e.addValue(t.value),t.value="")};t.addEventListener("keydown",(function(e){13!==e.keyCode&&188!==e.keyCode||n()})),t.addEventListener("blur",(function(){n()})),t.addEventListener("paste",(function(n){n.clipboardData&&(n.clipboardData.getData("text").split(",").map((function(t){return e.addValue(t)})),setTimeout((function(){return t.value=""})))})),this._elem.addEventListener("click",(function(){t.focus()})),this._valuesElem.append(t)},e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){if(this.elem=null,this._value="",this._valid=!1,this._removeCallback=null,"string"!=typeof e)throw new Error("InputValue() expects a string as argument");this._value=e,this._removeCallback=t,this._valid=this.isValid()}return e.prototype.isValid=function(){return!!this._value.match(e.EMAIL_REGEX)},e.prototype.toString=function(){return this._value},e.prototype.render=function(){if(this.elem)return this.elem;var e=this.elem=document.createElement("div");e.classList.add("EmailsInput-value"),this._valid||e.classList.add("EmailsInput-invalid"),e.textContent=this._value;var t=document.createElement("button");return t.classList.add("EmailsInput-button"),t.textContent="x",e.append(t),t.addEventListener("click",this._removeCallback.bind(this)),e},e.EMAIL_REGEX=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,e}();t.default=r}]).default}));
//# sourceMappingURL=emails-input.js.map